#  README.md — Build Project JSON (Совместимый JSON с ChatGPT 5)

##  Описание  
`build_project_json.py` — это Python-скрипт для **построения JSON-описания структуры проекта**.  
Он анализирует указанную папку, определяет типы и языки файлов, исключает ненужные файлы и формирует итоговый JSON-файл с описанием структуры.

Основные возможности:  
- Рекурсивный обход папок проекта.  
- Определение языка и типа файлов.  
- Пропуск исключённых расширений и директорий.  
- Формирование JSON с метаданными о файлах.  

---

##  Требования  
- Python 3.8+  
- Библиотеки Python: стандартные (`argparse`, `os`, `json`, `csv`, `typing`, `pathlib` и т.д.).  
Сторонние пакеты не требуются.  

---

##  Установка  
Скачайте файл `build_project_json.py` и убедитесь, что Python установлен.

---

##  Использование  

Запуск через командную строку:  

```bash
python build_project_json.py folder [опции]
```

### Основные параметры CLI  

| Параметр              | Описание                                                                                      | По умолчанию |
|-----------------------|----------------------------------------------------------------------------------------------|-------------|
| `folder`              | Путь к папке проекта. Если не задан — будет запрошен интерактивно.                            | —           |
| `--exclude` или `-e`  | Дополнительное расширение для исключения (с точкой или без неё). Можно указать несколько раз.  | `[]`        |
| `--output` или `-o`   | Имя выходного файла JSON. По умолчанию — `project_structure.json` в корне папки.               | —           |

Примеры запуска:  

```bash
# Простой пример — создать JSON для текущей папки:
python build_project_json.py .

# Исключить файлы .log и .tmp, сохранить JSON в custom.json:
python build_project_json.py /path/to/project -e log -e tmp -o custom.json
```

---

##  Основные функции  

| Функция                      | Назначение                                                                                   |
|------------------------------|---------------------------------------------------------------------------------------------|
| `norm_ext()`                 | Нормализация расширений файлов.                                                             |
| `detect_language()`          | Определение языка файла по расширению и содержимому.                                         |
| `detect_type()`              | Определение типа файла (текст/бинарный/CSV и т.д.).                                          |
| `looks_like_text()`          | Проверка, похож ли файл на текстовый.                                                       |
| `read_text_file()`           | Чтение текста файла.                                                                        |
| `read_csv_first_5_records()` | Чтение первых 5 записей CSV-файла.                                                          |
| `is_excluded_file()`         | Проверка, нужно ли исключить файл по расширению.                                             |
| `should_skip_dir()`          | Проверка, нужно ли пропустить директорию (например, скрытые или системные папки).             |
| `validate_schema()`          | Валидация сформированных данных перед записью в JSON.                                       |
| `build_payload()`            | Формирование структуры данных (payload) о проекте.                                          |
| `main()`                     | Точка входа CLI: парсит аргументы, запускает процесс формирования JSON.                      |

---

##  Вывод результатов  
- Итоговый JSON-файл с описанием структуры проекта (файлы, пути, языки, типы и т.д.).  
- Возможность указания собственного имени выходного файла.  
- Гибкая фильтрация файлов по расширению.  

---

##  Примеры сценариев  
- **Анализ кода**: быстрый обзор структуры проекта перед ревью.  
- **Документирование**: формирование JSON для автогенерации документации.  
- **Интеграции**: использование JSON-структуры в сторонних инструментах.  

---

##  Лицензия  
Бери и пользуй.  
